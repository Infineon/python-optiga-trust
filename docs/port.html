

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Export or Import Chip (Meta)Data &mdash; python-optiga-trust 1.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
        <script src="static/jquery.js"></script>
        <script src="static/underscore.js"></script>
        <script src="static/doctools.js"></script>
        <script src="static/language_data.js"></script>
    
    <script type="text/javascript" src="static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="6. Porting to non-Raspberry Linux" href="linux_support.html" />
    <link rel="prev" title="4. CRS (Certificate Signing Request)" href="csr.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> python-optiga-trust
          

          
            
            <img src="static/infineon_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chip.html">1. OPTIGA™ Trust management</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">2. Object and Metadata management</a></li>
<li class="toctree-l1"><a class="reference internal" href="crypto.html">3. Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="csr.html">4. CRS (Certificate Signing Request)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Export or Import Chip (Meta)Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example">5.1. Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-optigatrust.port">5.2. API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linux_support.html">6. Porting to non-Raspberry Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="prov_mode.html">7. Enable the provisioning mode on your Evaluation Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">8. Copyrights and Licenses</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">python-optiga-trust</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Export or Import Chip (Meta)Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/port.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="export-or-import-chip-meta-data">
<h1><span class="section-number">5. </span>Export or Import Chip (Meta)Data<a class="headerlink" href="#export-or-import-chip-meta-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="example">
<h2><span class="section-number">5.1. </span>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optigatrust</span> <span class="kn">import</span> <span class="n">port</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">dump</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">dump</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-optigatrust.port">
<span id="api"></span><h2><span class="section-number">5.2. </span>API<a class="headerlink" href="#module-optigatrust.port" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="optigatrust.port.from_json">
<code class="sig-prename descclassname">optigatrust.port.</code><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#optigatrust.port.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will take as an input your data and populate the chip with it, whatever is possible</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – JSON string with the dump of the data</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;e0f1&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s1">&#39;200fc00101d001ffd301ffe00103e10121&#39;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;lcso&quot;</span><span class="p">:</span> <span class="s2">&quot;creation&quot;</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;execute&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;secp256r1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;key_usage&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;authentication&#39;</span><span class="p">,</span> <span class="s1">&#39;key_agreement&#39;</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;e0c2&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;2009c4011bd001ffd10100&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;read&quot;</span><span class="p">:</span> <span class="s2">&quot;always&quot;</span>
        <span class="p">}</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;cd16338201001c000500000a091b5c0007006200ad801010710809&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p>ValueError - when any of the parameters contain an invalid value</p></li>
<li><p>TypeError - when any of the parameters are of the wrong type</p></li>
<li><p>OSError - when an error is returned by the chip initialisation library</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="optigatrust.port.from_json_path">
<code class="sig-prename descclassname">optigatrust.port.</code><code class="sig-name descname">from_json_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#optigatrust.port.from_json_path" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will take as an input your data and populate the chip with it, whatever is possible</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – path to the json file. The content should be formed like the following</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;e0f1&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s1">&#39;200fc00101d001ffd301ffe00103e10121&#39;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;lcso&quot;</span><span class="p">:</span> <span class="s2">&quot;creation&quot;</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;execute&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;secp256r1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;key_usage&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;authentication&#39;</span><span class="p">,</span> <span class="s1">&#39;key_agreement&#39;</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;e0c2&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;2009c4011bd001ffd10100&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;read&quot;</span><span class="p">:</span> <span class="s2">&quot;always&quot;</span>
        <span class="p">}</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;cd16338201001c000500000a091b5c0007006200ad801010710809&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p>ValueError - when any of the parameters contain an invalid value</p></li>
<li><p>TypeError - when any of the parameters are of the wrong type</p></li>
<li><p>OSError - when an error is returned by the chip initialisation library</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="optigatrust.port.to_json">
<code class="sig-prename descclassname">optigatrust.port.</code><code class="sig-name descname">to_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#optigatrust.port.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will secentially read all metadata from all available OIDs and return a dictionary with all entrie</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p>ValueError - when any of the parameters contain an invalid value</p></li>
<li><p>TypeError - when any of the parameters are of the wrong type</p></li>
<li><p>OSError - when an error is returned by the chip initialisation library</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a dictionary will all available metadata per object; e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;e0f1&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s1">&#39;200fc00101d001ffd301ffe00103e10121&#39;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;lcso&quot;</span><span class="p">:</span> <span class="s2">&quot;creation&quot;</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;execute&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;secp256r1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;key_usage&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;authentication&#39;</span><span class="p">,</span> <span class="s1">&#39;key_agreement&#39;</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;e0c2&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="s2">&quot;2009c4011bd001ffd10100&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pretty_metadata&quot;</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
            <span class="s2">&quot;change&quot;</span><span class="p">:</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;read&quot;</span><span class="p">:</span> <span class="s2">&quot;always&quot;</span>
        <span class="p">}</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;cd16338201001c000500000a091b5c0007006200ad801010710809&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="optigatrust.port.to_otc">
<code class="sig-prename descclassname">optigatrust.port.</code><code class="sig-name descname">to_otc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#optigatrust.port.to_otc" title="Permalink to this definition">¶</a></dt>
<dd><p>This function exports the whole available dump of the chip in the format compatible with
the OPTIGA Trust Configurator. Two things will be exported. Data in .dat file format from available objects and
an xml file with metadata stored. The function uses optigatrust/enums/conf_template.xml and add sequentially all objects
found on the chip. There are exceptions, objects [“f1c1”, “e0c2”, “e0c0”, “e0c1”, “e0c5”, “e0c6”] are excluded and
Objects which don’t have ‘used_size’ metatag defined are excluded</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>path Path to the folder where to store the resulting data.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p>ValueError - when any of the parameters contain an invalid value</p></li>
<li><p>TypeError - when any of the parameters are of the wrong type</p></li>
<li><p>OSError - when an error is returned by the chip initialisation library</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an xml string according to the template optigatrust/enums/conf_template.xml</p>
</dd>
</dl>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;objects&gt;</span>
<span class="c">&lt;!--OPTIGA Objects Metadata and Data--&gt;</span>
    <span class="nt">&lt;oid</span> <span class="na">id=</span><span class="s">&quot;E0F0&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;metadata</span> <span class="na">value=</span><span class="s">&quot;Updated_Tags&quot;</span><span class="nt">&gt;</span>C00101D001FFD30100E00103E10101<span class="nt">&lt;/metadata&gt;</span>
        <span class="nt">&lt;data</span>
            <span class="na">data_from=</span><span class="s">&quot;Infineon&quot;</span>
            <span class="na">value=</span><span class="s">&quot;Default&quot;</span>
            <span class="na">type=</span><span class="s">&quot;Plain&quot;</span>
            <span class="na">chip_individual=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/data&gt;</span>
    <span class="nt">&lt;/oid&gt;</span>
    ...
<span class="nt">&lt;/objects&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="linux_support.html" class="btn btn-neutral float-right" title="6. Porting to non-Raspberry Linux" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csr.html" class="btn btn-neutral float-left" title="4. CRS (Certificate Signing Request)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        
        &copy; <a href="copyright.html">Copyright</a> 2021, Infineon Technologies AG

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>